{% extends 'base.html' %}
{% set title = 'Runs' %}
{% set active = 'runs' %}

{% block content %}
<div class="card" style="margin-bottom: 20px;">
  <h2 style="margin: 0;">Recent runs</h2>
  <p style="margin: 4px 0 0; color: var(--muted);">Last 100 runs across all profiles.</p>
</div>

<div class="card">
  <table class="table">
    <thead>
      <tr>
        <th>Profile</th>
        <th>Started</th>
        <th>Status</th>
        <th>Triggered</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for run in runs %}
      <tr>
        <td>{{ run.profile_name }}</td>
        <td>{{ run.started_at }}</td>
        <td>{{ run.status }}</td>
        <td>{{ run.triggered_by }}</td>
        <td style="text-align: right;">
          <a class="button secondary" href="{{ url_for('run_detail', run_id=run.id) }}">View log</a>
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="5">No runs yet.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
